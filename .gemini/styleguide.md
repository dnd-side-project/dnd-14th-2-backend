# Backend Code Review Style Guide

본 문서는 코드 리뷰 시 일관된 기준과 품질을 유지하기 위한 가이드라인이다. **본 문서의 규칙을 우선적으로 따른다**.

---

## 1. 공통 리뷰 원칙

### 1.1 코드 스타일
- 기본적으로 **Google Java Style Guide**를 우선 적용한다.
- 기존 코드베이스의 스타일과 충돌하는 경우 **팀 내 스타일 통일성**을 더 우선한다.
- 스타일 관련 피드백은 기능적 문제와 분리하여 간결히 제시한다.

### 1.2 피드백 작성 형식
각 피드백은 반드시 아래 구조를 따른다.

1. **문제점**: 현재 코드에서의 구체적인 문제
2. **대안**: 적용 가능한 개선 방향
3. **장단점**: 대안 적용 시의 trade-off
4. **예시 코드 (선택)**: 필요한 경우에만 간결히 제시

> 불필요하게 긴 설명은 지양하며, 논리적 근거를 명확히 한다.

---

## 2. 설계 및 품질 관점 체크리스트

### 2.1 클린 코드 & 리팩터링
- 불필요한 로직, 중복 코드, 과도한 책임이 존재하는지 확인
- 메서드 및 클래스의 역할이 이름과 일치하는지 검토
- 조건 분기, 예외 흐름이 명확한지 확인

### 2.2 최신 트렌드 및 관용적 설계
- 최신 Java / Spring 관용 패턴을 과도하지 않게 활용했는지 검토
- 프레임워크 의존이 도메인 계층으로 침투하지 않았는지 확인

### 2.3 예외 처리
- 공통 예외 처리 전략이 일관되게 적용되는지 확인
- 도메인 규칙 위반과 시스템 예외가 구분되는지 검토
- 예외를 제어 흐름으로 사용하고 있지는 않은지 확인

### 2.4 확장성
- 요구사항 확장 시 수정 범위가 과도하게 넓어지지 않는 구조인지 검토
- enum, 전략 객체, 인터페이스 분리 등이 적절한지 확인

---

## 3. 테스트 코드 리뷰 기준

### 3.1 테스트 누락 여부
- 핵심 도메인 규칙이 테스트로 보호되고 있는지 확인
- 경계값, 예외 케이스, 경쟁 조건(동시성) 테스트가 필요한지 검토

### 3.2 테스트 품질
- Given-When-Then 패턴을 명확히 따르는지 확인
- 내부 구현 검증(verify 위주)이 아닌 **결과 중심 테스트**인지 평가
- 과도한 mocking으로 테스트 의도가 흐려지지 않았는지 검토

---

## 4. 헥사고날 아키텍처 관점

- 도메인 → 애플리케이션 → 어댑터 방향의 의존성이 유지되는지 확인
- 외부 시스템(DB, HTTP, SDK)에 대한 의존이 포트/어댑터로 분리되어 있는지 검토
- 유스케이스가 프레임워크 개념 없이 이해 가능한지 평가

---

## 5. 패키지 경로별 추가 규칙

### 5.1 `src/main/java/**/domain/**`
- 도메인 로직의 **순수성**을 최우선으로 확인
- 외부 라이브러리, 인프라 의존성(SDK, Repository, HTTP 등)이 없는지 검증
- 도메인 객체가 상태와 행위를 함께 가지는지 확인

### 5.2 `src/main/java/**/application/**`
- 유스케이스가 명확하게 드러나는지 확인
- 트랜잭션 경계가 유스케이스 단위로 적절한지 검토
- 도메인 객체 조합 및 흐름 제어 역할에 집중하고 있는지 평가

### 5.3 `src/test/**`
- 테스트 커버리지뿐 아니라 **의미 있는 시나리오**가 포함되어 있는지 확인
- 성공/실패/경계 조건이 균형 있게 테스트되는지 검토
- 테스트 코드 역시 가독성과 중복 제거가 고려되었는지 평가

---

## 6. 리뷰 톤 & 원칙

- 리뷰는 **개선 제안 중심**으로 작성한다.
- 개인 취향이 아닌 **설계적 근거**를 기반으로 피드백한다.
- 반드시 수정이 필요한 사항과 제안 사항을 구분한다.
